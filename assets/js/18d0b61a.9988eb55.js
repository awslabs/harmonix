"use strict";(self.webpackChunk_aws_opa_on_aws_website=self.webpackChunk_aws_opa_on_aws_website||[]).push([[9274],{2037:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=n(4848),s=n(8453);const i={sidebar_position:2},o="Import Cluster Template",l={id:"techdocs/runtimes/kubernetes/eksProviderTemplates/importClusterTemplate",title:"Import Cluster Template",description:'The "AWS EKS Environment Provider From Existing Cluster" template allows you to set up an EKS runtime for OPA that uses a preexisting EKS cluster.',source:"@site/docs/techdocs/runtimes/kubernetes/eksProviderTemplates/importClusterTemplate.md",sourceDirName:"techdocs/runtimes/kubernetes/eksProviderTemplates",slug:"/techdocs/runtimes/kubernetes/eksProviderTemplates/importClusterTemplate",permalink:"/docs/techdocs/runtimes/kubernetes/eksProviderTemplates/importClusterTemplate",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"New Cluster Template",permalink:"/docs/techdocs/runtimes/kubernetes/eksProviderTemplates/newClusterTemplate"},next:{title:"Kubernetes Applications",permalink:"/docs/techdocs/runtimes/kubernetes/k8sApps"}},a={},c=[{value:"Screenshot of the AWS EKS Environment Provider From Existing Cluster Template:",id:"screenshot-of-the-aws-eks-environment-provider-from-existing-cluster-template",level:4},{value:"How Is This Template Different From The AWS EKS Environment Provider Template?",id:"how-is-this-template-different-from-the-aws-eks-environment-provider-template",level:2},{value:"Optional Components",id:"optional-components",level:3}];function u(e){const t={a:"a",admonition:"admonition",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"import-cluster-template",children:"Import Cluster Template"})}),"\n",(0,r.jsx)(t.p,{children:'The "AWS EKS Environment Provider From Existing Cluster" template allows you to set up an EKS runtime for OPA that uses a preexisting EKS cluster.'}),"\n",(0,r.jsx)(t.p,{children:"Here are the 2 main uses:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"Use a cluster you had set up in the past, before adopting OPA."}),"\n",(0,r.jsxs)(t.li,{children:["Continue using whatever mechanism you prefer to provision your EKS clusters (outside of OPA).","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["For example, you may wish to use ",(0,r.jsx)(t.a,{href:"https://eksctl.io/",children:"eksctl"})," or ",(0,r.jsx)(t.a,{href:"https://www.rancher.com/",children:"Rancher"})," to create your clusters."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Whatever your reason, using this template will allow you to use prexisting clusters as part of an OPA EKS Environment Provider."}),"\n",(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsx)(t.p,{children:'This template only "imports" EKS clusters for use by an EKS Environment Provider. It does NOT import any applications that are running in an imported cluster that were created outside of OPA.'})}),"\n",(0,r.jsx)(t.h4,{id:"screenshot-of-the-aws-eks-environment-provider-from-existing-cluster-template",children:"Screenshot of the AWS EKS Environment Provider From Existing Cluster Template:"}),"\n",(0,r.jsx)("p",{align:"center",children:(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"eks_existing_cluster.png",src:n(437).A+"",width:"2390",height:"1416"})})}),"\n",(0,r.jsx)(t.h2,{id:"how-is-this-template-different-from-the-aws-eks-environment-provider-template",children:"How Is This Template Different From The AWS EKS Environment Provider Template?"}),"\n",(0,r.jsxs)(t.p,{children:['This template performs a subset of what the "AWS EKS Environment Provider" template does. Please see the ',(0,r.jsx)(t.a,{href:"newClusterTemplate",children:"AWS EKS Environment Provider template documentation"})," for a detailed list of features. The purpose of this template is to use an existing EKS cluster, but to also create the OPA-specific infrastructure that is needed in order for OPA to use the cluster as part of an EKS Environment Provider."]}),"\n",(0,r.jsx)(t.p,{children:'If you use the "AWS EKS Environment Provider From Existing Cluster" template, the following will NOT be created/configured:'}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"VPC"}),"\n",(0,r.jsx)(t.li,{children:"EKS Cluster"}),"\n",(0,r.jsx)(t.li,{children:"FluentBit log forwarding"}),"\n",(0,r.jsx)(t.li,{children:"Security Groups"}),"\n",(0,r.jsx)(t.li,{children:"OIDC Provider for service accounts"}),"\n",(0,r.jsx)(t.li,{children:"IAM Roles"}),"\n",(0,r.jsx)(t.li,{children:"aws-auth ConfigMap settings"}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Choosing to use a cluster that is created outside of OPA means that you are responsible for configuring your cluster to be compatible with OPA. See the ",(0,r.jsx)(t.a,{href:"newClusterTemplate",children:"AWS EKS Environment Provider template documentation"})," for details on what OPA expects to be set up for a cluster."]}),"\n",(0,r.jsx)(t.h3,{id:"optional-components",children:"Optional Components"}),"\n",(0,r.jsx)(t.p,{children:'The following will only be created if you answer "Yes" to "Create OPA Resources In EKS Cluster?"'}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:'"opa-cluster-admin" ClusterRoleBinding'}),"\n",(0,r.jsx)(t.li,{children:"ClusterRole for viewing/listing namespaces"}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},437:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/eks_existing_cluster-41817adb7da52f33f0d0bbd020b387cc.png"},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>l});var r=n(6540);const s={},i=r.createContext(s);function o(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);