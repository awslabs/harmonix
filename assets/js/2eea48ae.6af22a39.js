"use strict";(self.webpackChunk_aws_opa_on_aws_website=self.webpackChunk_aws_opa_on_aws_website||[]).push([[7088],{2117:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var o=n(74848),s=n(28453);const i={sidebar_position:4},r="Getting Started With An Example",a={id:"techdocs/runtimes/generative-ai/gettingStartedWithExample",title:"Getting Started With An Example",description:"In this section, we will walk you through the steps to create a Chatbot purposefully built for asking questions about major technology companies.",source:"@site/docs/techdocs/runtimes/generative-ai/gettingStartedWithExample.md",sourceDirName:"techdocs/runtimes/generative-ai",slug:"/techdocs/runtimes/generative-ai/gettingStartedWithExample",permalink:"/docs/techdocs/runtimes/generative-ai/gettingStartedWithExample",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Interacting With Your Application",permalink:"/docs/techdocs/runtimes/generative-ai/interactingWithApp"},next:{title:"Kubernetes & EKS",permalink:"/docs/category/kubernetes--eks"}},c={},l=[{value:"Prerequisites",id:"prerequisites",level:3},{value:"Step 1: Set Configuration Parameters",id:"step-1-set-configuration-parameters",level:3},{value:"Step 2: Upload Contextual Documents",id:"step-2-upload-contextual-documents",level:3},{value:"Step 3: Ask your Chatbot a Question",id:"step-3-ask-your-chatbot-a-question",level:3},{value:"Step 4: Experiment!",id:"step-4-experiment",level:3}];function d(e){const t={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"getting-started-with-an-example",children:"Getting Started With An Example"}),"\n",(0,o.jsx)(t.p,{children:"In this section, we will walk you through the steps to create a Chatbot purposefully built for asking questions about major technology companies."}),"\n",(0,o.jsx)(t.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(t.p,{children:["Please follow the instructions highlighted in the ",(0,o.jsx)(t.a,{href:"/docs/techdocs/runtimes/generative-ai/deployingYourApp",children:"Deploying Your Application"})," page. Once you have successfully deployed your application resources, you may proceed with the following steps."]}),"\n",(0,o.jsx)(t.h3,{id:"step-1-set-configuration-parameters",children:"Step 1: Set Configuration Parameters"}),"\n",(0,o.jsx)(t.p,{children:"Our first step after deploying the resources for our application is to customize the configurations. As part of the deployment process, default values are set for all of the customizable parameters. The default values are as follows:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"response_prompt"}),': "Use the following documents to answer the following ',(0,o.jsx)(t.code,{children:"{question}"}),". Here are the documents, between ",(0,o.jsx)(t.code,{children:"<document></document>"})," XML tags: ",(0,o.jsx)(t.code,{children:"{documents}"}),' Do not directly mention the content of the documents if not relevant to the question. Ensure that your answer is accurate and uses the information from the documents previously provided."']}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"temperature"})," : 1"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"topics"})," : [ ]         ",(0,o.jsx)(t.em,{children:"(this is currently an empty array that we will modify in Step 2)"})]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"max_tokens_to_sample"})," : 400"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"chunk_size"})," : 28000"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"chunk_overlap"})," : 0"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"relevant_document_count"})," : 3"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsxs)(t.p,{children:["For more details on parameter descriptions and requirements, and how to make an API request please see the ",(0,o.jsx)(t.strong,{children:"Step 1: Set Configuration Parameters"})," section on the ",(0,o.jsx)(t.a,{href:"/docs/techdocs/runtimes/generative-ai/interactingWithApp",children:"Interacting With Your Application"})," page."]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["For our use case, we will start by modifying the ",(0,o.jsx)(t.code,{children:"topics"})," parameter. Make the following request to the ",(0,o.jsx)(t.code,{children:"/setConfiguration"})," method of your API:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:"{\n    \"parameters\": {\n        \"topics\": \"['amazon', 'google', 'meta', 'apple']\",\n    }\n}\n"})}),"\n",(0,o.jsx)(t.p,{children:"These represent the high level topics that we will be using to organize, classify and store our indexed data by."}),"\n",(0,o.jsx)(t.h3,{id:"step-2-upload-contextual-documents",children:"Step 2: Upload Contextual Documents"}),"\n",(0,o.jsxs)(t.p,{children:["These topics now need to be reflected in our data source's file structure. Locate the sample documents in the source code of your application repo: ",(0,o.jsx)(t.code,{children:"./sample-files"})]}),"\n",(0,o.jsxs)(t.p,{children:["Navigate to your ",(0,o.jsx)(t.strong,{children:"S3 Data Bucket"})," and upload these folders and files. The S3 data structure should be as follows:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"    Your Data Bucket\n    \u2502\n    \u251c\u2500\u2500\u2500amazon/\n    \u2502 \u2514\u2500\u2500\u2500Amazon Annual Report 2022.txt\n    \u2502\n    \u251c\u2500\u2500\u2500google/\n    \u2502 \u2514\u2500\u2500\u2500Google Annual Report 2022.txt\n    |\n    \u251c\u2500\u2500\u2500meta/\n    \u2502 \u2514\u2500\u2500\u2500Meta Annual Report 2022.txt\n    |\n    \u2514\u2500\u2500\u2500apple/\n      \u2514\u2500\u2500\u2500Apple Annual Report 2022.txt\n"})}),"\n",(0,o.jsxs)(t.p,{children:["Adding these documents is triggering the ",(0,o.jsx)(t.strong,{children:"Indexer Lambda Function"}),", which will be creating and storing the indexes in ",(0,o.jsx)(t.strong,{children:"Amazon OpenSearch Service"})," according to the parameters we set in Step 1. This process will take a couple of minutes. To validate completion, see the Indexer Lambda Function's CloudWatch Logs or navigate to your OpenSearch Collection and  verify that ",(0,o.jsx)(t.code,{children:"4"})," indexes have been created."]}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"NOTE: Adding more files under the same folders won't modify the index name, but it will enrich the data."}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"step-3-ask-your-chatbot-a-question",children:"Step 3: Ask your Chatbot a Question"}),"\n",(0,o.jsx)(t.p,{children:"At this point, your chatbot has a couple of SEC documents providing additional context to the LLM. Let's ask a question!"}),"\n",(0,o.jsxs)(t.p,{children:["Make a request to the ",(0,o.jsx)(t.code,{children:"/classification"})," method of our API, for example:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'{\n    "message": "What was the 2022 revenue of Amazon?",\n    "operation_mode": "inclusive"\n}\n'})}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'{\n    "message": "Who is Google\'s CEO?",\n    "operation_mode": "inclusive"\n}\n'})}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'{\n    "message": "What is Meta?",\n    "operation_mode": "inclusive"\n}\n'})}),"\n",(0,o.jsx)(t.p,{children:"Your response should be a contextual answer to your question!"}),"\n",(0,o.jsx)(t.h3,{id:"step-4-experiment",children:"Step 4: Experiment!"}),"\n",(0,o.jsx)(t.p,{children:"Now that we have confirmed that your Chatbot is up and running, we encourage you to experiment. Ask different questions, modify your parameters, add more files, etc."}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsxs)(t.p,{children:["NOTE: If you want to modify ",(0,o.jsx)(t.code,{children:"chunk_size"})," or ",(0,o.jsx)(t.code,{children:"chunk_overlap"})," at this point, you will have to create new indices with a different name or delete the previous ones; followed by modifying your ",(0,o.jsx)(t.code,{children:"topics"})," parameter. For more information see ",(0,o.jsx)(t.strong,{children:"Step 1: Set Configuration Parameters"})," on the ",(0,o.jsx)(t.a,{href:"/docs/techdocs/runtimes/generative-ai/interactingWithApp",children:"Interacting With Your Application"})," page."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var o=n(96540);const s={},i=o.createContext(s);function r(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);